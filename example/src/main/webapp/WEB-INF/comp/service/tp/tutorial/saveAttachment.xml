<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<service
	xmlns="http://www.simplity.org/schema"
	name="saveAttachment"
	moduleName="tutorial"
	dbAccessType="none"
	description="save an attachment."
>
	<inputData attachmentFields="key">
	</inputData>
	<actions>
		<setValue fieldName="log">
			<expression><![CDATA["a file was uploaded by the user having key as " + key +
				". we saved this with fileName=" + name + " of mime-type=" + mime + " storage key=" + key]]></expression>
		</setValue>
		<log names="log"/>
		<createSheet
			sheetName="files"
			data="key,name,mime;$key,temp,temp" />				
	</actions>
	
	<outputData fieldNames="rootFolder" attachmentColumns="files.key">
		<outputRecords>
			<outputRecord sheetName="files" />
		</outputRecords>
	</outputData>
</service>
