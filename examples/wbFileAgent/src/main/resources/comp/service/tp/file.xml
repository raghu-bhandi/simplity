<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<service
	xmlns="http://www.simplity.org/schema"
	name="file"
	dbAccessType="none"
	description="this is a regular service, in the sence, client-request waits for this service to finish"
>
	<actions>
		<fileProcessor
			actionName="fileProcessor"
			inDataFormat="text"
			inFileNamePattern=".*\.txt"
			inRecordName="fixed"
			inFolderName="c:/temp/test/in"
			archivalExtension=".bak"
			outSheetName="orders"			
		>
			<actions>
				<setValue
					fieldName="number"
					fieldValue="99"
				></setValue>
				<log names="orders" />
				<loop
					dataSheetName="orders"
					columnsToCopyAsFields="date"
					fieldsToCopyBackAsColumns="*"
				>
					<actions>
						<setValue
							fieldName="text"
							expression="orders.text + orders.number" />
						<setValue
							fieldName="number"
							expression="orders.number + orders.decimal" />
						<setValue
							fieldName="decimal"
							expression="orders.decimal * orders.number" />
						<setValue
							fieldName="bool"
							expression="!orders.bool" />
						<setValue
							fieldName="date"
							expression="date + 100" />
						<log names="date" />
					</actions>
				</loop>
			</actions>
		</fileProcessor>
	</actions>
	<outputData dataSheets="orders" />
</service>
