<?xml version="1.0" encoding="UTF-8"?>
<service name="JMSInFileOut" 
		 moduleName="batchProcess"
		 dbAccessType="none"
		 xmlns="http://www.simplity.org/schema" 
		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<actions>
		<batchProcessor dbAccessType="readOnly" 
						jmsUsage="notManaged"
						inputFolder="${basedir}/src/test/resources/infile"
						outputFolder="${basedir}/target"
						serviceOnErrorAtRowLevel="batchProcess.batchProcessorError"
						serviceOnInvalidInput="batchProcess.batchProcessorInvalidInput"
						>
			<batchRowProcessor>			
				<inputQueue queueName="jms/Queue02" fieldNames="id2,name2,address2" extractAll="true" timeout="1000" />
				<childProcessors>
					<batchRowProcessor inputSql="example.selectStudent">
						<aggregators>
							<aggregator aggregationType="sum" outputFieldName="sumOut" inputFieldName="rollNumber"/>
						</aggregators>	
					<outputFile recordName="files.fixed4" fileName="batchOut.txt" dataFormat="commaSeparated"/>											
					</batchRowProcessor>
				</childProcessors>	
				<actionAfterChildren>
					<log names="sumOut"/>
				</actionAfterChildren>					
			</batchRowProcessor>		
		</batchProcessor>
	</actions>
</service>
